{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Revert domain to otis.soundbites.com and fix admin auth endpoints\n\nDOMAIN REVERSION:\n- Changed all app.soundbites.com references back to otis.soundbites.com\n- This is the correct production domain as confirmed by user\n\nFILES UPDATED:\n- index.html: OG tags and Twitter meta tags now use otis.soundbites.com\n- backend/.env.example: FRONTEND_URL â†’ https://otis.soundbites.com\n- backend/.env.production.template: FRONTEND_URL and CORS_ORIGINS â†’ otis.soundbites.com\n- backend/server.js: API info page link â†’ otis.soundbites.com\n- backend/routes/tiktok-events.js: Default page URL for TikTok events â†’ otis.soundbites.com\n\nADMIN LOGIN FIXES:\n- admin/login.html: Fixed API endpoint from /api/admin/login â†’ /api/auth/login\n- admin/login.html: Fixed verify endpoint from /api/admin/verify â†’ /api/auth/verify\n- admin/admin-auth-backend.js: Fixed verify endpoint to /api/auth/verify\n- admin/admin-auth-backend.js: Fixed logout endpoint to /api/auth/logout\n\nWHY THESE CHANGES:\n1. User confirmed production URL is https://otis.soundbites.com/admin/login.html\n2. Previous migration to app.soundbites.com was incorrect - reverting to otis\n3. Auth routes are mounted at /api/auth, not /api/admin (server.js line 119)\n4. Login page was calling wrong endpoints causing authentication failures\n\nVERIFIED WORKING:\nâœ… Backend auth routes at /api/auth/login, /api/auth/verify, /api/auth/logout\nâœ… Admin credentials: c.hatfield309@gmail.com / Hearing2025\nâœ… Login page uses relative paths, works on any domain\nâœ… All meta tags point to otis.soundbites.com for SEO/sharing\nâœ… TikTok Events API will report correct domain\n\nDEPLOYMENT NOTES:\n1. Update Render .env: FRONTEND_URL=https://otis.soundbites.com\n2. Ensure DNS points otis.soundbites.com to your static site\n3. Test login at: https://otis.soundbites.com/admin/login.html\n4. Use credentials: c.hatfield309@gmail.com / Hearing2025\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(curl -s -X POST http://localhost:3000/api/auth/login -H \"Content-Type: application/json\" -d \"{\"\"email\"\":\"\"c.hatfield309@gmail.com\"\",\"\"password\"\":\"\"Hearing2025\"\"}\")",
      "Bash(python -m json.tool)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYy5oYXRmaWVsZDMwOUBnbWFpbC5jb20iLCJpYXQiOjE3NjEwMTg0NTAsImV4cCI6MTc2MTEwNDg1MH0.ecYdG6c5_nz_-8lERtnMC6pjsksBlVQ5X0bROT9eMnI\")",
      "Bash(curl -s -X GET http://localhost:3000/api/auth/verify -H \"Authorization: Bearer $TOKEN\")",
      "Bash(openssl rand -base64 32)",
      "Bash(git add render-static.yaml _redirects)",
      "Bash(git commit -m \"fix: Route /admin to login page instead of dashboard\n\nISSUE:\n- /admin was redirecting to /admin/index.html (dashboard)\n- /admin/* was catching ALL routes including /admin/login.html\n- Users couldn''t access login page, went straight to dashboard\n\nFIX:\n- Changed /admin route to point to /admin/login.html\n- Removed wildcard /admin/* rule that was blocking login page\n- Now /admin and /admin/login.html both show login page\n- After login, user navigates to /admin/index.html (dashboard)\n\nFILES CHANGED:\n- render-static.yaml: Simplified routing rules\n- _redirects: Route /admin to login page\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\")",
      "Bash(node -e:*)",
      "Bash(sqlite3:*)",
      "Bash(curl:*)",
      "Bash(npm start)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(npx kill-port:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(cat:*)",
      "Bash(git push:*)",
      "Bash(ping:*)",
      "Bash(npm install:*)",
      "Bash(npm test:*)",
      "Bash(npm uninstall:*)",
      "Bash(node scripts/add-user-roles.js:*)",
      "Bash(timeout 3 bash:*)",
      "Bash(node test-login.js:*)"
    ],
    "deny": [],
    "ask": []
  }
}
