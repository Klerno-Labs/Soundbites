<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Soundbites Admin</title>
	<meta name="description" content="Admin panel for managing the Soundbites hearing quiz and viewing analytics">
	<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><circle cx='16' cy='16' r='16' fill='%23C92A76'/></svg>" type="image/svg+xml">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./admin.css">
	<script src="../Main app/header-sizer.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="./admin-auth-backend.js"></script>
</head>
<body>
	<a href="#main" class="skip-link">Skip to content</a>
	<div class="container" role="application">
		<header>
			<div class="logo-container">
				<img src="../Main app/soundbites_logo_magenta.webp" alt="Soundbites Logo" class="brand-logo" />
				<span class="play-button-accent" aria-hidden="true"></span>
			</div>
			<p class="sb-copy">Discover if Soundbites can improve your hearing experience</p>
			<div class="wave-decoration">
				<img src="../Main app/dot_wave_2.webp" alt="Sound Wave" class="wave-graphic">
			</div>
			<nav class="admin-nav">
				<button id="questions-tab" class="tab-btn" type="button" onclick="if(window.admin){window.admin.switchTab('questions')}else{console.error('window.admin not found')}">Questions</button>
				<button id="analytics-tab" class="tab-btn active" type="button" onclick="if(window.admin){window.admin.switchTab('analytics')}else{console.error('window.admin not found')}">Analytics</button>
				<button id="marketing-tab" class="tab-btn" type="button" onclick="if(window.admin){window.admin.switchTab('marketing')}else{console.error('window.admin not found')}">Marketing</button>
				<button id="otis-tab" class="tab-btn" type="button" onclick="if(window.admin){window.admin.switchTab('otis')}else{console.error('window.admin not found')}">OTIS</button>
				<span style="flex:1"></span>
				<button id="logout-btn" class="btn btn-danger" type="button">Log out</button>
			</nav>
		</header>

		<main id="main" role="main">
		<!-- Questions Panel (top-level sibling of Analytics) -->
		<section id="questions-panel" class="admin-panel" style="display:none;">
			<h2>Manage Questions</h2>
			<body>
				<div class="container" role="application">
					<header>
						<div class="logo-container">
							<img src="../Main app/soundbites_logo_magenta.webp" alt="Soundbites Logo" class="brand-logo" />
							<span class="play-button-accent" aria-hidden="true"></span>
						</div>
						<p class="sb-copy">Soundbites Admin Login</p>
					</header>
					<main id="main" role="main">
						<section id="login-panel" class="admin-panel" style="max-width:400px;margin:40px auto;">
							<h2>Admin Login</h2>
							<form id="login-form">
								<div class="form-group">
									<label for="email">Email</label>
									<input id="email" type="email" placeholder="Enter email" required value="c.hatfield309@gmail.com" />
								</div>
								<div class="form-group">
									<label for="password">Password</label>
									<input id="password" type="password" placeholder="Enter password" required value="Hearing2025" />
								</div>
								<button type="submit" class="btn btn-primary" style="width:100%;margin-top:1rem;">Log In</button>
								<div id="login-error" style="color:#e3342f;margin-top:1rem;display:none;"></div>
							</form>
						</section>
						<section id="dashboard-panel" class="admin-panel" style="display:none;">
							<h2>Welcome to Soundbites Admin</h2>
							<p>Login successful. Dashboard features will appear here.</p>
						</section>
					</main>
				</div>
				<script src="./admin-auth-backend.js"></script>
				<script>
					document.getElementById('login-form').addEventListener('submit', async function(e) {
						e.preventDefault();
						const email = document.getElementById('email').value.trim();
						const password = document.getElementById('password').value;
						const errorDiv = document.getElementById('login-error');
						errorDiv.style.display = 'none';
						// Hardcoded credentials for demo
						if(email === 'c.hatfield309@gmail.com' && password === 'Hearing2025') {
							document.getElementById('login-panel').style.display = 'none';
							document.getElementById('dashboard-panel').style.display = 'block';
						} else {
							errorDiv.textContent = 'Invalid credentials. Please try again.';
							errorDiv.style.display = 'block';
						}
					});
				</script>
			</body>
