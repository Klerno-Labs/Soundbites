<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Admin Smoke Test</title>
		<style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:2rem;background:#fff;color:#111} .ok{color:green;font-weight:700}</style>
	</head>
	<body>
		<h1>Admin Smoke Test</h1>
		<p>If you see this page at <code>/admin</code> then the static rewrite is working.</p>
		<p>Deployed admin assets present:</p>
		<ul id="assets"></ul>
		<p>JS runtime test: <span id="js-result"><em>pending</em></span></p>

		<script>
			// Check each expected asset via fetch and report status
			const assets = ['admin.js','admin.css','admin-auth.js','admin-auth-backend.js'];
			const ul = document.getElementById('assets');
			Promise.all(assets.map(a => fetch(a, {method:'HEAD'}).then(r=>({a,status:r.status})).catch(e=>({a,error:true})))).then(results=>{
				results.forEach(r=>{
					const li = document.createElement('li');
					if(r.error) li.textContent = r.a + ' — request failed';
					else li.textContent = r.a + ' — HTTP ' + r.status;
					if(r.status>=200 && r.status<300) li.className='ok';
					ul.appendChild(li);
				});
				document.getElementById('js-result').textContent = 'ok';
			}).catch(e=>{document.getElementById('js-result').textContent = 'failed';});
		</script>
	</body>
</html>
